(()=>{"use strict";const e=window.wp.element,t=window.wp.data,n=window.wp.components,o=window.wp.blockEditor;wp.blocks.registerBlockType("jb-block/jb-job",{edit:(0,t.withSelect)((function(e){return{posts:e("core").getEntityRecords("postType","jb-job",{per_page:-1,_fields:["id","title"]})}}))((function(t){let l=t.posts;if(!l)return(0,e.createElement)("p",null,(0,e.createElement)(n.Spinner,null),wp.i18n.__("Loading...","jobboardwp"));if(0===l.length)return"No posts found.";let i,r=t.attributes.job_id;i=[{id:"",title:""}].concat(l);let b=function(e){let t=[];return e.map((function(e){t.push({label:e.title.rendered,value:e.id})})),t}(i),c=(0,o.useBlockProps)();return(0,e.createElement)("div",c,(0,e.createElement)(n.ServerSideRender,{block:"jb-block/jb-job",attributes:t.attributes}),(0,e.createElement)(o.InspectorControls,null,(0,e.createElement)(n.PanelBody,{title:wp.i18n.__("Job","jobboardwp")},(0,e.createElement)(n.SelectControl,{label:wp.i18n.__("Job","jobboardwp"),className:"jb_select_job",value:r,options:b,style:{height:"35px",lineHeight:"20px",padding:"0 7px"},onChange:e=>{t.setAttributes({job_id:e});let n=function(e){let t="";return t=void 0!==e&&""!==e?'[jb_job id="'+e+'"]':"[jb_job]",t}(e);t.setAttributes({content:n})}}))))})),save:function(e){return null}})})();