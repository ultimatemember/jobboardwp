"object"!=typeof wp.JB&&(wp.JB={}),"object"!=typeof wp.JB.jobs_list&&(wp.JB.jobs_list={}),wp.JB.jobs_list={first_load:!0,is_search:!1,objects:{wrapper:jQuery(".jb-jobs")},is_busy:function(){return wp.JB.jobs_list.objects.wrapper.hasClass("jb-busy")},preloader:{show:function(){wp.JB.jobs_list.objects.wrapper.addClass("jb-busy").find(".jb-overlay").show()},hide:function(){wp.JB.jobs_list.objects.wrapper.removeClass("jb-busy").find(".jb-overlay").hide()}},url:{set:function(e,o){var t=wp.JB.jobs_list.url.get(),r={};jQuery.isArray(o)?(jQuery.each(o,function(s){o[s]=encodeURIComponent(o[s])}),o=o.join("||")):jQuery.isNumeric(o)||(o=o.split("||"),jQuery.each(o,function(s){o[s]=encodeURIComponent(o[s])}),o=o.join("||")),""!==o&&(r[e]=o),jQuery.each(t,function(s){e===s?""!==o&&(r[s]=o):r[s]=t[s]});var a=[];jQuery.each(r,function(s){a.push(s+"="+r[s])});var s="?"+(a=wp.hooks.applyFilters("jb_job_dashboard_url_attrs",a)).join("&");"?"===s&&(s=""),window.history.pushState("string","JB Jobs Dashboard",window.location.origin+window.location.pathname+s)},get:function(s){var e={},o=wp.JB.jobs_list.url.parse();if(jQuery.each(o,function(s){""!==o[s]&&(e[s]=o[s])}),s){if(void 0!==e[s])try{e[s]=decodeURIComponent(e[s])}catch(s){console.error(s)}return e[s]}return e},parse:function(){var o={},s=window.location.search.substring(1);if(""!==s){var t=s.split("&");jQuery.each(t,function(s){var e=t[s].split("=");o[e[0]]=e[1]})}return o},get_page:function(){var s=wp.JB.jobs_list.objects.wrapper.data("page");return s&&void 0!==s||(s=1),s},get_per_page:function(){var s=wp.JB.jobs_list.objects.wrapper.data("per-page");return s&&void 0!==s||(s=null),s},get_employer:function(){var s=wp.JB.jobs_list.objects.wrapper.data("employer");return s&&void 0!==s||(s=""),s},get_search:function(){return wp.JB.jobs_list.objects.wrapper.find(".jb-search-line").length?wp.JB.jobs_list.objects.wrapper.find(".jb-search-line").val():""},get_location:function(){return wp.JB.jobs_list.objects.wrapper.find(".jb-search-location").length?wp.JB.jobs_list.objects.wrapper.find(".jb-search-location").val():""},get_type:function(){return wp.JB.jobs_list.objects.wrapper.find(".jb-only-remote").length?wp.JB.jobs_list.objects.wrapper.find(".jb-only-remote").is(":checked")?1:0:""},get_type_tag:function(){return wp.JB.jobs_list.objects.wrapper.find(".jb-job-type-filter").length?wp.JB.jobs_list.objects.wrapper.find(".jb-job-type-filter").val():wp.JB.jobs_list.objects.wrapper.data("type")},get_category:function(){return wp.JB.jobs_list.objects.wrapper.find(".jb-job-category-filter").length?wp.JB.jobs_list.objects.wrapper.find(".jb-job-category-filter").val():wp.JB.jobs_list.objects.wrapper.data("category")},get_hide_expired:function(){var s=wp.JB.jobs_list.objects.wrapper.data("hide-expired");return void 0===s&&(s=null),s},get_hide_filled:function(){var s=wp.JB.jobs_list.objects.wrapper.data("hide-filled");return void 0===s&&(s=null),s},get_filled_only:function(){var s=wp.JB.jobs_list.objects.wrapper.data("filled-only");return void 0===s&&(s=null),s},get_orderby:function(){var s=wp.JB.jobs_list.objects.wrapper.data("orderby");return void 0===s&&(s="date"),s},get_order:function(){var s=wp.JB.jobs_list.objects.wrapper.data("order");return void 0===s&&(s="DESC"),s}},ajax:function(o){var s={page:wp.JB.jobs_list.url.get_page(),per_page:wp.JB.jobs_list.url.get_per_page(),search:wp.JB.jobs_list.url.get_search(),location:wp.JB.jobs_list.url.get_location(),remote_only:wp.JB.jobs_list.url.get_type(),type:wp.JB.jobs_list.url.get_type_tag(),category:wp.JB.jobs_list.url.get_category(),employer:wp.JB.jobs_list.url.get_employer(),hide_expired:wp.JB.jobs_list.url.get_hide_expired(),hide_filled:wp.JB.jobs_list.url.get_hide_filled(),filled_only:wp.JB.jobs_list.url.get_filled_only(),orderby:wp.JB.jobs_list.url.get_orderby(),order:wp.JB.jobs_list.url.get_order(),nonce:jb_front_data.nonce};wp.JB.jobs_list.is_search=!!(s.search||s.location||s.remote_only),wp.JB.jobs_list.first_load&&(1<s.page&&(s.get_previous=!0),wp.JB.jobs_list.first_load=!1),s=wp.hooks.applyFilters("jb_jobs_request",s),wp.JB.jobs_list.preloader.show(),wp.ajax.send("jb-get-jobs",{data:s,success:function(s){var e=wp.template("jb-jobs-list-line");o?wp.JB.jobs_list.objects.wrapper.find(".jb-jobs-wrapper").append(e(s.jobs)):wp.JB.jobs_list.objects.wrapper.find(".jb-jobs-wrapper").html(e(s.jobs)),wp.JB.jobs_list.objects.wrapper.data("total_pages",s.pagination.total_pages),0<s.pagination.total_pages?(wp.JB.jobs_list.objects.wrapper.find(".jb-jobs-wrapper").removeClass("jb-no-jobs"),s.pagination.total_pages==s.pagination.current_page?wp.JB.jobs_list.objects.wrapper.find(".jb-load-more-jobs").hide():wp.JB.jobs_list.objects.wrapper.find(".jb-load-more-jobs").show()):(o||(wp.JB.jobs_list.is_search?wp.JB.jobs_list.objects.wrapper.find(".jb-jobs-wrapper").html(wp.JB.jobs_list.objects.wrapper.data("no-jobs-search")):wp.JB.jobs_list.objects.wrapper.find(".jb-jobs-wrapper").html(wp.JB.jobs_list.objects.wrapper.data("no-jobs"))),wp.JB.jobs_list.objects.wrapper.find(".jb-jobs-wrapper").addClass("jb-no-jobs"),wp.JB.jobs_list.objects.wrapper.find(".jb-load-more-jobs").hide()),wp.hooks.doAction("jb_jobs_list_loaded",s),wp.JB.jobs_list.objects.wrapper.find(".jb-do-search").removeClass("disabled"),wp.JB.jobs_list.preloader.hide()},error:function(s){console.log(s),wp.JB.jobs_list.preloader.hide(),wp.JB.jobs_list.objects.wrapper.find(".jb-do-search").removeClass("disabled")}})}},jQuery(document).ready(function(r){wp.JB.jobs_list.objects.wrapper.length&&wp.JB.jobs_list.ajax(),r(document.body).on("click",".jb-do-search",function(){if(!r(this).hasClass("disabled")&&!wp.JB.jobs_list.is_busy()){wp.JB.jobs_list.preloader.show(),wp.JB.jobs_list.objects.wrapper.data("page",1),wp.JB.jobs_list.url.set("jb-page","");var s=wp.JB.jobs_list.url.get_search();wp.JB.jobs_list.url.set("jb-search",s);var e=wp.JB.jobs_list.url.get_location();wp.JB.jobs_list.url.set("jb-location-search",e),wp.hooks.doAction("jb_jobs_list_do_search"),r(this).addClass("disabled"),wp.JB.jobs_list.ajax()}}),r(document.body).on("keypress",".jb-search-line, .jb-search-location",function(s){if(13===s.which){var e=r(this).parents(".jb-jobs").find(".jb-do-search");if(e.hasClass("disabled"))return;if(wp.JB.jobs_list.is_busy())return;wp.JB.jobs_list.preloader.show(),wp.JB.jobs_list.objects.wrapper.data("page",1),wp.JB.jobs_list.url.set("jb-page","");var o=wp.JB.jobs_list.url.get_search();wp.JB.jobs_list.url.set("jb-search",o);var t=wp.JB.jobs_list.url.get_location();wp.JB.jobs_list.url.set("jb-location-search",t),wp.hooks.doAction("jb_jobs_list_do_search"),e.addClass("disabled"),wp.JB.jobs_list.ajax()}}),r(document.body).on("click",".jb-only-remote",function(){if(wp.JB.jobs_list.objects.wrapper.find(".jb-do-search").addClass("disabled"),!wp.JB.jobs_list.is_busy()){wp.JB.jobs_list.preloader.show(),wp.JB.jobs_list.objects.wrapper.data("page",1),wp.JB.jobs_list.url.set("jb-page","");var s=wp.JB.jobs_list.url.get_type();s?wp.JB.jobs_list.url.set("jb-is-remote",s):wp.JB.jobs_list.url.set("jb-is-remote",""),wp.JB.jobs_list.ajax()}}),r(document.body).on("change",".jb-job-type-filter",function(){wp.JB.jobs_list.objects.wrapper.find(".jb-do-search").addClass("disabled"),wp.JB.jobs_list.is_busy()||(wp.JB.jobs_list.preloader.show(),wp.JB.jobs_list.objects.wrapper.data("page",1),wp.JB.jobs_list.url.set("jb-page",""),wp.JB.jobs_list.url.set("jb-job-type",r(this).val()),wp.JB.jobs_list.ajax())}),r(document.body).on("change",".jb-job-category-filter",function(){wp.JB.jobs_list.objects.wrapper.find(".jb-do-search").addClass("disabled"),wp.JB.jobs_list.is_busy()||(wp.JB.jobs_list.preloader.show(),wp.JB.jobs_list.objects.wrapper.data("page",1),wp.JB.jobs_list.url.set("jb-page",""),wp.JB.jobs_list.url.set("jb-job-category",r(this).val()),wp.JB.jobs_list.ajax())}),r(document.body).on("click",".jb-load-more-jobs",function(){if(!r(this).hasClass("disabled")&&!wp.JB.jobs_list.is_busy()){wp.JB.jobs_list.preloader.show();var s=1*wp.JB.jobs_list.objects.wrapper.data("page")+1;wp.JB.jobs_list.objects.wrapper.data("page",s),wp.JB.jobs_list.url.set("jb-page",s),wp.JB.jobs_list.ajax(!0)}}),window.addEventListener("popstate",function(s){wp.JB.jobs_list.objects.wrapper.length&&wp.JB.jobs_list.ajax()})});