"object"!=typeof wp.JB&&(wp.JB={}),"object"!=typeof wp.JB.jobs_list&&(wp.JB.jobs_list={}),wp.JB.jobs_list={first_load:!0,is_search:!1,objects:{wrapper:jQuery(".jb-jobs")},is_busy:function(){return wp.JB.jobs_list.objects.wrapper.hasClass("jb-busy")},preloader:{show:function(){wp.JB.jobs_list.objects.wrapper.addClass("jb-busy").find(".jb-overlay").show()},hide:function(){wp.JB.jobs_list.objects.wrapper.removeClass("jb-busy").find(".jb-overlay").hide()}},url:{set:function(e,o){var t=wp.JB.jobs_list.url.get(),r={};jQuery.isArray(o)?(jQuery.each(o,function(s){o[s]=encodeURIComponent(o[s])}),o=o.join("||")):jQuery.isNumeric(o)||(o=o.split("||"),jQuery.each(o,function(s){o[s]=encodeURIComponent(o[s])}),o=o.join("||")),""!==o&&(r[e]=o),jQuery.each(t,function(s){e===s?""!==o&&(r[s]=o):r[s]=t[s]});var a=[];jQuery.each(r,function(s){a.push(s+"="+r[s])});var s="?"+(a=wp.hooks.applyFilters("jb_job_dashboard_url_attrs",a)).join("&");"?"===s&&(s=""),window.history.pushState("string","JB Jobs Dashboard",window.location.origin+window.location.pathname+s)},get:function(s){var e={},o=wp.JB.jobs_list.url.parse();if(jQuery.each(o,function(s){""!==o[s]&&(e[s]=o[s])}),s){if(void 0!==e[s])try{e[s]=decodeURIComponent(e[s])}catch(s){console.error(s)}return e[s]}return e},parse:function(){var e,o={},s=window.location.search.substring(1);return""!==s&&(e=s.split("&"),jQuery.each(e,function(s){s=e[s].split("=");o[s[0]]=s[1]})),o},get_page:function(){var s=wp.JB.jobs_list.objects.wrapper.data("page");return s&&void 0!==s||(s=1),s},get_per_page:function(){var s=wp.JB.jobs_list.objects.wrapper.data("per-page");return s&&void 0!==s||(s=null),s},get_employer:function(){var s=wp.JB.jobs_list.objects.wrapper.data("employer");return s&&void 0!==s||(s=""),s},get_search:function(){return wp.JB.jobs_list.objects.wrapper.find(".jb-search-line").length?wp.JB.jobs_list.objects.wrapper.find(".jb-search-line").val():""},get_location:function(){return wp.JB.jobs_list.objects.wrapper.find(".jb-search-location").length?wp.JB.jobs_list.objects.wrapper.find(".jb-search-location").val():""},get_type:function(){return wp.JB.jobs_list.objects.wrapper.find(".jb-only-remote").length?wp.JB.jobs_list.objects.wrapper.find(".jb-only-remote").is(":checked")?1:0:""},get_type_tag:function(){return wp.JB.jobs_list.objects.wrapper.find(".jb-job-type-filter").length?wp.JB.jobs_list.objects.wrapper.find(".jb-job-type-filter").val():wp.JB.jobs_list.objects.wrapper.data("type")},get_category:function(){return wp.JB.jobs_list.objects.wrapper.find(".jb-job-category-filter").length?wp.JB.jobs_list.objects.wrapper.find(".jb-job-category-filter").val():wp.JB.jobs_list.objects.wrapper.data("category")},get_hide_expired:function(){var s=wp.JB.jobs_list.objects.wrapper.data("hide-expired");return void 0===s&&(s=null),s},get_hide_filled:function(){var s=wp.JB.jobs_list.objects.wrapper.data("hide-filled");return void 0===s&&(s=null),s},get_filled_only:function(){var s=wp.JB.jobs_list.objects.wrapper.data("filled-only");return void 0===s&&(s=null),s},get_orderby:function(){var s=wp.JB.jobs_list.objects.wrapper.data("orderby");return void 0===s&&(s="date"),s},get_order:function(){var s=wp.JB.jobs_list.objects.wrapper.data("order");return void 0===s&&(s="DESC"),s}},ajax:function(t){var r={page:wp.JB.jobs_list.url.get_page(),per_page:wp.JB.jobs_list.url.get_per_page(),search:wp.JB.jobs_list.url.get_search(),location:wp.JB.jobs_list.url.get_location(),remote_only:wp.JB.jobs_list.url.get_type(),type:wp.JB.jobs_list.url.get_type_tag(),category:wp.JB.jobs_list.url.get_category(),employer:wp.JB.jobs_list.url.get_employer(),hide_expired:wp.JB.jobs_list.url.get_hide_expired(),hide_filled:wp.JB.jobs_list.url.get_hide_filled(),filled_only:wp.JB.jobs_list.url.get_filled_only(),orderby:wp.JB.jobs_list.url.get_orderby(),order:wp.JB.jobs_list.url.get_order(),nonce:jb_front_data.nonce};wp.JB.jobs_list.is_search=!!(r.search||r.location||r.remote_only),wp.JB.jobs_list.first_load&&(1<r.page&&(r.get_previous=!0),wp.JB.jobs_list.first_load=!1),r=wp.hooks.applyFilters("jb_jobs_request",r),wp.JB.jobs_list.preloader.show(),wp.JB.jobs_list.objects.wrapper.each(function(s,e){let o=jQuery(e);o.is(".jb-jobs-widget")&&jQuery.extend(r,o.data()),wp.ajax.send("jb-get-jobs",{data:r,success:function(s){var e=wp.template("jb-jobs-list-line");t?o.find(".jb-jobs-wrapper").append(e(s.jobs)):o.find(".jb-jobs-wrapper").html(e(s.jobs)),o.data("total_pages",s.pagination.total_pages),0<s.pagination.total_pages?(o.find(".jb-jobs-wrapper").removeClass("jb-no-jobs"),s.pagination.total_pages==s.pagination.current_page?o.find(".jb-load-more-jobs").hide():o.find(".jb-load-more-jobs").show()):(t||(wp.JB.jobs_list.is_search?o.find(".jb-jobs-wrapper").html(o.data("no-jobs-search")):o.find(".jb-jobs-wrapper").html(o.data("no-jobs"))),o.find(".jb-jobs-wrapper").addClass("jb-no-jobs"),o.find(".jb-load-more-jobs").hide()),wp.hooks.doAction("jb_jobs_list_loaded",s),o.find(".jb-do-search").removeClass("disabled"),wp.JB.jobs_list.preloader.hide()},error:function(s){console.log(s),wp.JB.jobs_list.preloader.hide(),o.find(".jb-do-search").removeClass("disabled")}})})}},jQuery(document).ready(function(o){wp.JB.jobs_list.objects.wrapper.length&&wp.JB.jobs_list.ajax(),o(document.body).on("click",".jb-do-search",function(){var s;o(this).hasClass("disabled")||wp.JB.jobs_list.is_busy()||(wp.JB.jobs_list.preloader.show(),wp.JB.jobs_list.objects.wrapper.data("page",1),wp.JB.jobs_list.url.set("jb-page",""),s=wp.JB.jobs_list.url.get_search(),wp.JB.jobs_list.url.set("jb-search",s),s=wp.JB.jobs_list.url.get_location(),wp.JB.jobs_list.url.set("jb-location-search",s),wp.hooks.doAction("jb_jobs_list_do_search"),o(this).addClass("disabled"),wp.JB.jobs_list.ajax())}),o(document.body).on("keypress",".jb-search-line, .jb-search-location",function(s){var e;13===s.which&&((e=o(this).parents(".jb-jobs").find(".jb-do-search")).hasClass("disabled")||wp.JB.jobs_list.is_busy()||(wp.JB.jobs_list.preloader.show(),wp.JB.jobs_list.objects.wrapper.data("page",1),wp.JB.jobs_list.url.set("jb-page",""),s=wp.JB.jobs_list.url.get_search(),wp.JB.jobs_list.url.set("jb-search",s),s=wp.JB.jobs_list.url.get_location(),wp.JB.jobs_list.url.set("jb-location-search",s),wp.hooks.doAction("jb_jobs_list_do_search"),e.addClass("disabled"),wp.JB.jobs_list.ajax()))}),o(document.body).on("click",".jb-only-remote",function(){var s;wp.JB.jobs_list.objects.wrapper.find(".jb-do-search").addClass("disabled"),wp.JB.jobs_list.is_busy()||(wp.JB.jobs_list.preloader.show(),wp.JB.jobs_list.objects.wrapper.data("page",1),wp.JB.jobs_list.url.set("jb-page",""),(s=wp.JB.jobs_list.url.get_type())?wp.JB.jobs_list.url.set("jb-is-remote",s):wp.JB.jobs_list.url.set("jb-is-remote",""),wp.JB.jobs_list.ajax())}),o(document.body).on("change",".jb-job-type-filter",function(){wp.JB.jobs_list.objects.wrapper.find(".jb-do-search").addClass("disabled"),wp.JB.jobs_list.is_busy()||(wp.JB.jobs_list.preloader.show(),wp.JB.jobs_list.objects.wrapper.data("page",1),wp.JB.jobs_list.url.set("jb-page",""),wp.JB.jobs_list.url.set("jb-job-type",o(this).val()),wp.JB.jobs_list.ajax())}),o(document.body).on("change",".jb-job-category-filter",function(){wp.JB.jobs_list.objects.wrapper.find(".jb-do-search").addClass("disabled"),wp.JB.jobs_list.is_busy()||(wp.JB.jobs_list.preloader.show(),wp.JB.jobs_list.objects.wrapper.data("page",1),wp.JB.jobs_list.url.set("jb-page",""),wp.JB.jobs_list.url.set("jb-job-category",o(this).val()),wp.JB.jobs_list.ajax())}),o(document.body).on("click",".jb-load-more-jobs",function(){var s;o(this).hasClass("disabled")||wp.JB.jobs_list.is_busy()||(wp.JB.jobs_list.preloader.show(),s=+wp.JB.jobs_list.objects.wrapper.data("page")+1,wp.JB.jobs_list.objects.wrapper.data("page",s),wp.JB.jobs_list.url.set("jb-page",s),wp.JB.jobs_list.ajax(!0))}),window.addEventListener("popstate",function(s){wp.JB.jobs_list.objects.wrapper.length&&wp.JB.jobs_list.ajax()})});