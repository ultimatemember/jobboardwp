function JBLocationSelectOnEnter(n){var a=n.addEventListener?n.addEventListener:n.attachEvent;function o(o,t){if("keydown"===o){var e=t;t=function(o){var t=0<jQuery(".pac-item-selected").length;if(13===o.which&&!t){var a=jQuery.Event("keydown",{keyCode:40,which:40});e.apply(n,[a]),$selected_autocomplete=jQuery(n)}e.apply(n,[o])}}a.apply(n,[o,t])}n.addEventListener?n.addEventListener=o:n.attachEvent&&(n.attachEvent=o)}function JBLocationAutocomplete(){var a;jQuery(document.body).on("keyup",".jb-location-autocomplete",function(){""===jQuery(this).val()&&jQuery(this).siblings(".jb-location-autocomplete-data").val("")}),jQuery(document.body).on("change",".jb-location-autocomplete",function(){""===jQuery(this).val()&&jQuery(this).siblings(".jb-location-autocomplete-data").val("")}),jQuery(".jb-location-autocomplete").each(function(){JBLocationSelectOnEnter(jQuery(this).get(0)),new google.maps.places.Autocomplete(jQuery(this).get(0),{types:["(regions)"]}).addListener("place_changed",function(o){var t=this.getPlace();void 0!==t&&void 0!==t.geometry&&void 0!==t.geometry.location?void 0!==a&&(1<a.siblings(".jb-location-autocomplete-data").length?a.siblings(".jb-location-autocomplete-data").val(""):a.siblings(".jb-location-autocomplete-data").val(JSON.stringify(t)),void 0!==t.address_components&&jQuery.each(t.address_components,function(o){if(void 0!==t.address_components[o].types)switch(t.address_components[o].types[0]){case"sublocality_level_1":case"locality":case"postal_town":a.siblings(".jb-location-autocomplete-data.jb-location-city").val(t.address_components[o].long_name);break;case"administrative_area_level_1":case"administrative_area_level_2":a.siblings(".jb-location-autocomplete-data.jb-location-state-short").val(t.address_components[o].short_name),a.siblings(".jb-location-autocomplete-data.jb-location-state-long").val(t.address_components[o].long_name);break;case"country":a.siblings(".jb-location-autocomplete-data.jb-location-country-short").val(t.address_components[o].short_name),a.siblings(".jb-location-autocomplete-data.jb-location-country-long").val(t.address_components[o].long_name)}})):void 0!==a&&a.siblings(".jb-location-autocomplete-data").val("")})}).on("click",function(){a=jQuery(this)}),wp.hooks.doAction("jb_google_maps_api_callback")}var jb_location_script=document.createElement("script");jb_location_script.src="//maps.googleapis.com/maps/api/js?key="+jb_location_var.api_key+"&libraries=places&callback=JBLocationAutocomplete",jb_location_var.region&&(jb_location_script.src+="&language="+jb_location_var.region),document.body.appendChild(jb_location_script),wp.hooks.addFilter("jb_jobs_request","jb_autocomplete_location",function(o,t){return t.find(".jb-location-autocomplete-data").length&&(o["location-city"]=t.find(".jb-location-autocomplete-data.jb-location-city").val(),o["location-state-short"]=t.find(".jb-location-autocomplete-data.jb-location-state-short").val(),o["location-state-long"]=t.find(".jb-location-autocomplete-data.jb-location-state-long").val(),o["location-country-short"]=t.find(".jb-location-autocomplete-data.jb-location-country-short").val(),o["location-country-long"]=t.find(".jb-location-autocomplete-data.jb-location-country-long").val(),o.location=""),o},10),wp.hooks.addAction("jb_jobs_list_do_search","jb_autocomplete_location",function(o){o.find(".jb-location-autocomplete-data.jb-location-city").length&&wp.JB.jobs_list.url.set(o,"jb-location-search-city",o.find(".jb-location-autocomplete-data.jb-location-city").val()),o.find(".jb-location-autocomplete-data.jb-location-state-short").length&&wp.JB.jobs_list.url.set(o,"jb-location-search-state-short",o.find(".jb-location-autocomplete-data.jb-location-state-short").val()),o.find(".jb-location-autocomplete-data.jb-location-state-long").length&&wp.JB.jobs_list.url.set(o,"jb-location-search-state-long",o.find(".jb-location-autocomplete-data.jb-location-state-long").val()),o.find(".jb-location-autocomplete-data.jb-location-country-short").length&&wp.JB.jobs_list.url.set(o,"jb-location-search-country-short",o.find(".jb-location-autocomplete-data.jb-location-country-short").val()),o.find(".jb-location-autocomplete-data.jb-location-country-long").length&&wp.JB.jobs_list.url.set(o,"jb-location-search-country-long",o.find(".jb-location-autocomplete-data.jb-location-country-long").val())},10);