"object"!=typeof wp.JB&&(wp.JB={}),"object"!=typeof wp.JB.jobs_dashboard&&(wp.JB.jobs_dashboard={}),wp.JB.jobs_dashboard={objects:{wrapper:jQuery(".jb-job-dashboard")},is_busy:function(){return wp.JB.jobs_dashboard.objects.wrapper.hasClass("jb-busy")},preloader:{show:function(){wp.JB.jobs_dashboard.objects.wrapper.addClass("jb-busy").find(".jb-overlay").show()},hide:function(){wp.JB.jobs_dashboard.objects.wrapper.removeClass("jb-busy").find(".jb-overlay").hide()}},url:{set:function(a,s){var e=wp.JB.jobs_dashboard.url.get(),b={},d=(jQuery.isArray(s)?(jQuery.each(s,function(o){s[o]=encodeURIComponent(s[o])}),s=s.join("||")):jQuery.isNumeric(s)||(s=s.split("||"),jQuery.each(s,function(o){s[o]=encodeURIComponent(s[o])}),s=s.join("||")),""!==s&&(b[a]=s),jQuery.each(e,function(o){a===o?""!==s&&(b[o]=s):b[o]=e[o]}),[]),o=(jQuery.each(b,function(o){d.push(o+"="+b[o])}),"?"+(d=wp.hooks.applyFilters("jb_job_dashboard_url_attrs",d)).join("&"));"?"===o&&(o=""),window.history.pushState("string","JB Jobs Dashboard",window.location.origin+window.location.pathname+o)},get:function(o){var a={},s=wp.JB.jobs_dashboard.url.parse();if(jQuery.each(s,function(o){""!==s[o]&&(a[o]=s[o])}),o){if(void 0!==a[o])try{a[o]=decodeURIComponent(a[o])}catch(o){console.error(o)}return a[o]}return a},parse:function(){var a={},s=window.location.search.substring(1).split("&");return jQuery.each(s,function(o){o=s[o].split("=");a[o[0]]=o[1]}),a}},ajax:function(s){var o={nonce:jb_front_data.nonce};wp.JB.jobs_dashboard.preloader.show(),wp.ajax.send("jb-get-employer-jobs",{data:o,success:function(o){var a=wp.template("jb-jobs-dashboard-line");s?wp.JB.jobs_dashboard.objects.wrapper.find(".jb-job-dashboard-rows").append(a(o.jobs)):wp.JB.jobs_dashboard.objects.wrapper.find(".jb-job-dashboard-rows").html(a(o.jobs)),0<o.jobs.length?wp.JB.jobs_dashboard.objects.wrapper.find(".jb-job-dashboard-rows").addClass("isset-jobs"):wp.JB.jobs_dashboard.objects.wrapper.find(".jb-job-dashboard-rows").removeClass("isset-jobs"),wp.hooks.doAction("jb_jobs_dashboard_loaded",o),jb_init_dropdown(),wp.JB.jobs_dashboard.preloader.hide()},error:function(o){console.log(o),wp.JB.jobs_dashboard.preloader.hide()}})}},jQuery(document).ready(function(e){wp.JB.jobs_dashboard.objects.wrapper.length&&wp.JB.jobs_dashboard.ajax(),window.addEventListener("popstate",function(o){wp.JB.jobs_dashboard.objects.wrapper.length&&wp.JB.jobs_dashboard.ajax()}),e(document.body).on("click",".jb-jobs-action-fill",function(){var s=e(this).data("job-id"),o={job_id:s,nonce:jb_front_data.nonce};wp.ajax.send("jb-fill-job",{data:o,success:function(o){var a=wp.template("jb-jobs-dashboard-line");e('.jb-job-dashboard-row[data-job-id="'+s+'"]').replaceWith(a(o.jobs)),wp.hooks.doAction("jb_jobs_dashboard_job_filled",o)},error:function(o){console.log(o)}})}),e(document.body).on("click",".jb-jobs-action-un-fill",function(){var s=e(this).data("job-id"),o={job_id:s,nonce:jb_front_data.nonce};wp.ajax.send("jb-unfill-job",{data:o,success:function(o){var a=wp.template("jb-jobs-dashboard-line");e('.jb-job-dashboard-row[data-job-id="'+s+'"]').replaceWith(a(o.jobs)),wp.hooks.doAction("jb_jobs_dashboard_job_unfilled",o)},error:function(o){console.log(o)}})}),e(document.body).on("click",".jb-jobs-action-delete",function(){if(!confirm(wp.i18n.__("Are you sure that you want to delete this job?","jobboardwp")))return!1;var a=e(this).data("job-id"),o={job_id:a,nonce:jb_front_data.nonce};wp.ajax.send("jb-delete-job",{data:o,success:function(o){e('.jb-job-dashboard-row[data-job-id="'+a+'"]').remove(),wp.hooks.doAction("jb_jobs_dashboard_job_deleted",o,a)},error:function(o){console.log(o)}})})});