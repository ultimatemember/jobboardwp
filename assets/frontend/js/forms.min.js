"object"!=typeof wp.JB&&(wp.JB={}),"object"!=typeof wp.JB.forms&&(wp.JB.forms={}),wp.JB.forms={classes:{form:"jb-form",row:"jb-form-row"},objects:{wrapper:{},rows:{}},setObjects:function(){wp.JB.forms.objects.wrapper=jQuery("."+wp.JB.forms.classes.form),wp.JB.forms.objects.rows=jQuery("."+wp.JB.forms.classes.row)}},jQuery(document).ready(function(o){wp.JB.forms.setObjects();var e=o(".jb-datepicker");e.length&&e.each(function(){var e=o(this);e.datepicker({altField:e.siblings(".jb-datepicker-default-format"),altFormat:"yy-mm-dd"})}),o(document.body).on("change",".jb-datepicker",function(){var e=o(this);""===e.val()&&e.siblings(".jb-datepicker-default-format").val("")}),o(document.body).on("click","input.jb-forms-condition-option",function(){var e=o(this).val();o(this).parents("."+wp.JB.forms.classes.row).find("span[data-visible-if]").hide().find("input, select").attr("disabled","disabled").prop("disabled",!0),o(this).parents("."+wp.JB.forms.classes.row).find('span[data-visible-if="'+e+'"]').show().find("input, select").removeAttr("disabled").prop("disabled",!1)}),o("input.jb-forms-condition-option:checked").trigger("click"),o(document.body).on("click",".jb-change-media",function(e){e.preventDefault(),o(this).parents(".jb-uploaded-wrapper").removeClass("jb-uploaded").addClass("jb-waiting-change"),o(this).parents(".jb-uploaded-wrapper").siblings(".jb-uploader").removeClass("jb-uploaded")}),o(document.body).on("click",".jb-cancel-change-media",function(e){e.preventDefault(),o(this).parents(".jb-uploaded-wrapper").addClass("jb-uploaded").removeClass("jb-waiting-change"),o(this).parents(".jb-uploaded-wrapper").siblings(".jb-uploader").addClass("jb-uploaded")}),o(document.body).on("click",".jb-clear-media",function(e){e.preventDefault(),o(this).parents(".jb-uploaded-wrapper").siblings(".jb-media-value").val(""),o(this).parents(".jb-uploaded-wrapper").siblings(".jb-media-value-hash").val(""),o(this).parents(".jb-uploaded-wrapper").removeClass("jb-uploaded").removeClass("jb-waiting-change"),o(this).parents(".jb-uploaded-wrapper").siblings(".jb-uploader").removeClass("jb-uploaded")}),o(".jb-select-media").each(function(){var i=o(this),e=i.data("action"),s=i.parents(".jb-uploader-dropzone"),r=s.siblings(".jb-uploader-errorlist");new plupload.Uploader({browse_button:i.get(0),drop_element:s.get(0),url:wp.ajax.settings.url+"?action="+e+"&nonce="+jb_front_data.nonce,chunk_size:"1024kb",max_retries:1,multipart:!0,multi_selection:!1,filters:{max_file_size:"10mb",mime_types:[{title:wp.i18n.__("Image files","jobboardwp"),extensions:"jpg,jpeg,gif,png,bmp,ico,tiff"}],prevent_duplicates:!0,max_file_count:1},init:{Error:function(e,a){r.html("<p>"+wp.i18n.__("Error!","jobboardwp")+" "+a.message+"</p>")},FileFiltered:function(o,e){r.empty(),o.getOption("multi_selection")||s.find(".jb-uploader-file").each(function(e,a){o.removeFile(a.id)})},FilesAdded:function(e,a){e.start()},FilesRemoved:function(e,a){o.each(a,function(e,a){o("#"+a.id).remove()}),s.find(".jb-uploader-file").length||r.empty(),i.prop("jb-uploader-data",o.extend(args,{files:a}))},FileUploaded:function(e,a,o){var s;200===o.status&&o.response?(s=JSON.parse(o.response))?s.info&&0===s.OK?console.error(s.info):s.data&&(i.parents(".jb-uploader").addClass("jb-uploaded"),i.parents(".jb-uploader").siblings(".jb-uploaded-wrapper").addClass("jb-uploaded").removeClass("jb-waiting-change"),i.parents(".jb-uploader").siblings(".jb-uploaded-wrapper").find("img").attr("src",s.data[0].url),i.parents(".jb-uploader").siblings(".jb-media-value").val(s.data[0].name_saved),i.parents(".jb-uploader").siblings(".jb-media-value-hash").val(s.data[0].hash)):r.append("<p>"+wp.i18n.__("Error! Wrong file upload server response.","jobboardwp")+"</p>"):console.error(wp.i18n.__("File was not loaded, Status Code %s","jobboardwp"),[o.status])},PostInit:function(e){i.prop("jb-uploader",e).next("div").hide(),s.find(".jb-uploader-file").remove()},UploadProgress:function(e,a){o("#"+a.id).find("b").html("<span>"+a.percent+"%</span>")},UploadComplete:function(e,a){}}}).init()})});