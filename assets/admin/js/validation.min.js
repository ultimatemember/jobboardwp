!function(t,i){var e=wp.data.dispatch("core/editor"),a=wp.data.select("core/editor"),o=wp.data.dispatch("core/notices"),n=e.savePost,r=!1,s="";wp.data.subscribe(function(){var t=a.getEditedPostAttribute("status");r="publish"===t||"future"===t,s="publish"!==t?t:s}),e.savePost=function(a){a=a||{};var t=this,i=arguments;return new Promise(function(i,t){return a.isAutosave||a.isPreview?i("Validation ignored (autosave)."):r?void wp.ajax.send("jb-validate-job-data",{data:"serialize form jQuery('#editor')",success:function(t){t.valid?(o.removeNotice("jbwp-validation"),i("Validation bypassed."),e.unlockPostSaving("jbwp"),o.removeNotice("jbwp-validation")):(e.lockPostSaving("jbwp"),o.createErrorNotice(t.notice,{id:"jbwp-validation",isDismissible:!0}))},error:function(t){e.unlockPostSaving("jbwp")}}):i("Validation ignored (draft).")}).then(function(){return n.apply(t,i)}).catch(function(t){})}}(jQuery);