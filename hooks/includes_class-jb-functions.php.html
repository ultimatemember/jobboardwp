<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Source: includes/class-jb-functions.php - JobBoardWP Hook Docs</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">

	<link href="https://fonts.googleapis.com/css?family=IBM+Plex+Mono|IBM+Plex+Sans:300,400|Playfair+Display:900&display=swap" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="styles-um.css">
</head>

<body>

<div id="main">

	
    <h1 class="page-title">Source: includes/class-jb-functions.php</h1>
	

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>&lt;?php if ( ! defined( 'ABSPATH' ) ) {
	exit;
}


if ( ! class_exists( 'JB_Functions' ) ) {


	/**
	 * Class JB_Functions
	 */
	class JB_Functions {


		/**
		 * @var string
		 *
		 * @since 1.0
		 */
		public $templates_path;


		/**
		 * @var string
		 *
		 * @since 1.0
		 */
		public $theme_templates;


		/**
		 * @var bool CPU Links Structure
		 *
		 * @since 1.0
		 */
		public $is_permalinks;


		/**
		 * @var string Standard or Minified versions
		 *
		 * @since 1.0
		 */
		public $scrips_prefix = '';


		/**
		 * What type of request is this?
		 *
		 * @param string $type String containing name of request type (ajax, frontend, cron or admin)
		 *
		 * @return bool
		 *
		 * @since 1.0
		 */
		public function is_request( $type ) {
			switch ( $type ) {
				case 'admin':
					return is_admin();
				case 'ajax':
					return defined( 'DOING_AJAX' );
				case 'cron':
					return defined( 'DOING_CRON' );
				case 'frontend':
					return ( ! is_admin() || defined( 'DOING_AJAX' ) ) &amp;&amp; ! defined( 'DOING_CRON' );
			}

			return false;
		}


		/**
		 * Define constant if not already set.
		 *
		 * @since 1.1.1
		 * @access protected
		 *
		 * @param string      $name  Constant name.
		 * @param string|bool $value Constant value.
		 */
		protected function define( $name, $value ) {
			if ( ! defined( $name ) ) {
				define( $name, $value );
			}
		}


		/**
		 * Forms labels helptips
		 *
		 * @param string $tip
		 *
		 * @return false|string
		 *
		 * @since 1.0
		 */
		public function helptip( $tip ) {
			wp_enqueue_script( 'jb-helptip' );
			wp_enqueue_style( 'jb-helptip' );

			ob_start();
			?>

			&lt;span class="jb-helptip dashicons dashicons-editor-help" title="&lt;?php echo esc_attr( $tip ); ?>">&lt;/span>

			&lt;?php
			return ob_get_clean();
		}


		/**
		 * @param string $context
		 *
		 * @return array
		 */
		public function get_allowed_html( $context = '' ) {
			switch ( $context ) {
				case 'wp-admin':
					$allowed_html = array(
						'img'      => array(
							'alt'      => true,
							'align'    => true,
							'border'   => true,
							'height'   => true,
							'hspace'   => true,
							'loading'  => true,
							'longdesc' => true,
							'vspace'   => true,
							'src'      => true,
							'srcset'   => true,
							'usemap'   => true,
							'width'    => true,
						),
						'ul'       => array(),
						'li'       => array(),
						'h1'       => array(
							'align' => true,
						),
						'h2'       => array(
							'align' => true,
						),
						'h3'       => array(
							'align' => true,
						),
						'p'        => array(
							'align' => true,
							'dir'   => true,
							'lang'  => true,
						),
						'form'     => array(
							'action'         => true,
							'accept'         => true,
							'accept-charset' => true,
							'enctype'        => true,
							'method'         => true,
							'name'           => true,
							'target'         => true,
						),
						'label'    => array(
							'for' => true,
						),
						'select'   => array(
							'name'         => true,
							'multiple'     => true,
							'disabled'     => true,
							'readonly'     => true,
							'required'     => true,
							'autocomplete' => true,
						),
						'option'   => array(
							'value'    => true,
							'selected' => true,
							'disabled' => true,
						),
						'input'    => array(
							'type'         => true,
							'name'         => true,
							'value'        => true,
							'placeholder'  => true,
							'readonly'     => true,
							'disabled'     => true,
							'checked'      => true,
							'selected'     => true,
							'required'     => true,
							'autocomplete' => true,
						),
						'textarea' => array(
							'cols'         => true,
							'rows'         => true,
							'disabled'     => true,
							'name'         => true,
							'readonly'     => true,
							'required'     => true,
							'autocomplete' => true,
						),
						'table'    => array(
							'align'       => true,
							'bgcolor'     => true,
							'border'      => true,
							'cellpadding' => true,
							'cellspacing' => true,
							'dir'         => true,
							'rules'       => true,
							'summary'     => true,
							'width'       => true,
						),
						'tbody'    => array(
							'align'   => true,
							'char'    => true,
							'charoff' => true,
							'valign'  => true,
						),
						'td'       => array(
							'abbr'    => true,
							'align'   => true,
							'axis'    => true,
							'bgcolor' => true,
							'char'    => true,
							'charoff' => true,
							'colspan' => true,
							'dir'     => true,
							'headers' => true,
							'height'  => true,
							'nowrap'  => true,
							'rowspan' => true,
							'scope'   => true,
							'valign'  => true,
							'width'   => true,
						),
						'tfoot'    => array(
							'align'   => true,
							'char'    => true,
							'charoff' => true,
							'valign'  => true,
						),
						'th'       => array(
							'abbr'    => true,
							'align'   => true,
							'axis'    => true,
							'bgcolor' => true,
							'char'    => true,
							'charoff' => true,
							'colspan' => true,
							'headers' => true,
							'height'  => true,
							'nowrap'  => true,
							'rowspan' => true,
							'scope'   => true,
							'valign'  => true,
							'width'   => true,
						),
						'thead'    => array(
							'align'   => true,
							'char'    => true,
							'charoff' => true,
							'valign'  => true,
						),
						'tr'       => array(
							'align'   => true,
							'bgcolor' => true,
							'char'    => true,
							'charoff' => true,
							'valign'  => true,
						),
					);
					break;
				case 'templates':
					$allowed_html = array(
						'style'    => array(),
						'link'     => array(
							'rel'   => true,
							'href'  => true,
							'media' => true,
						),
						'form'     => array(
							'action'         => true,
							'accept'         => true,
							'accept-charset' => true,
							'enctype'        => true,
							'method'         => true,
							'name'           => true,
							'target'         => true,
						),
						'label'    => array(
							'for' => true,
						),
						'select'   => array(
							'name'         => true,
							'multiple'     => true,
							'disabled'     => true,
							'readonly'     => true,
							'required'     => true,
							'autocomplete' => true,
						),
						'option'   => array(
							'value'    => true,
							'selected' => true,
							'disabled' => true,
						),
						'input'    => array(
							'type'         => true,
							'name'         => true,
							'value'        => true,
							'placeholder'  => true,
							'readonly'     => true,
							'disabled'     => true,
							'checked'      => true,
							'selected'     => true,
							'required'     => true,
							'autocomplete' => true,
							'size'         => true,
						),
						'textarea' => array(
							'cols'         => true,
							'rows'         => true,
							'disabled'     => true,
							'name'         => true,
							'readonly'     => true,
							'required'     => true,
							'autocomplete' => true,
							'placeholder'  => true,
						),
						'img'      => array(
							'alt'      => true,
							'align'    => true,
							'border'   => true,
							'height'   => true,
							'hspace'   => true,
							'loading'  => true,
							'longdesc' => true,
							'vspace'   => true,
							'src'      => true,
							'srcset'   => true,
							'usemap'   => true,
							'width'    => true,
						),
						'h1'       => array(
							'align' => true,
						),
						'h2'       => array(
							'align' => true,
						),
						'h3'       => array(
							'align' => true,
						),
						'p'        => array(
							'align' => true,
							'dir'   => true,
							'lang'  => true,
						),
						'ul'       => array(),
						'li'       => array(),
						'time'     => array(
							'datetime' => true,
						),
					);
					break;
				case 'admin_notice':
					$allowed_html = array(
						'p'     => array(
							'align' => true,
							'dir'   => true,
							'lang'  => true,
						),
						'label' => array(
							'for' => true,
						),
					);
					break;
				default:
					$allowed_html = array();
					break;
			}

			$global_allowed = array(
				'a'      => array(
					'href'     => array(),
					'rel'      => true,
					'rev'      => true,
					'name'     => true,
					'target'   => true,
					'download' => array(
						'valueless' => 'y',
					),
				),
				'em'     => array(),
				'i'      => array(),
				'q'      => array(
					'cite' => true,
				),
				's'      => array(),
				'strike' => array(),
				'strong' => array(),
				'br'     => array(),
				'div'    => array(
					'align' => true,
					'dir'   => true,
					'lang'  => true,
				),
				'span'   => array(
					'dir'   => true,
					'align' => true,
					'lang'  => true,
				),
				'code'   => array(),
			);

			$allowed_html = array_merge( $global_allowed, $allowed_html );
			$allowed_html = array_map( '_wp_add_global_attributes', $allowed_html );

			/**
			 * Filters the allowed HTML tags and their attributes in the late escaping before echo.
			 *
			 * Note: Please use the `wp_kses()` allowed tags structure.
			 *
			 * @since 1.1.0
			 * @hook jb_late_escaping_allowed_tags
			 *
			 * @param {array}  $allowed_html Allowed HTML tags with attributes.
			 * @param {string} $context      Function context 'wp-admin' for Admin Dashboard echo, 'templates' for the frontend.
			 *
			 * @return {array} Allowed HTML tags with attributes.
			 */
			$allowed_html = apply_filters( 'jb_late_escaping_allowed_tags', $allowed_html, $context );

			return $allowed_html;
		}


		/**
		 * Disable page caching and set or clear cookie
		 *
		 * @param string $name
		 * @param string $value
		 * @param int $expire
		 * @param string $path
		 *
		 * @since 1.0
		 */
		public function setcookie( $name, $value = '', $expire = 0, $path = '' ) {
			if ( empty( $value ) ) {
				$expire = time() - YEAR_IN_SECONDS;
			}
			if ( empty( $path ) ) {
				list( $path ) = explode( '?', wp_unslash( $_SERVER['REQUEST_URI'] ) );
			}

			$levels = ob_get_level();
			for ( $i = 0; $i &lt; $levels; $i++ ) {
				// phpcs:ignore WordPress.PHP.NoSilencedErrors.Discouraged
				@ob_end_clean();
			}

			nocache_headers();
			setcookie( $name, $value, $expire, $path, COOKIE_DOMAIN, is_ssl(), true );
		}


		/**
		 * Easy merge arrays based on parent array key. Insert after selected key
		 *
		 * @since 1.1.1
		 *
		 * @param array $array
		 * @param string $key
		 * @param array $insert_array
		 *
		 * @return array
		 */
		public function array_insert_after( $array, $key, $insert_array ) {
			$index = array_search( $key, array_keys( $array ), true );
			if ( false === $index ) {
				return $array;
			}

			$array = array_slice( $array, 0, $index + 1, true ) + $insert_array + array_slice( $array, $index + 1, count( $array ) - 1, true );

			return $array;
		}


		/**
		 * Get the template path inside theme or custom path
		 *
		 * @since 1.1.1
		 * @since 1.2.2 Added $module argument.
		 * @access public
		 *
		 * @param string $module Module slug. (default: '').
		 *
		 * @return string
		 */
		public function template_path( $module = '' ) {
			$path = 'jobboardwp/';

			if ( ! empty( $module ) ) {
				$path .= "$module/";
			}

			/**
			 * Filters the template path inside theme or custom path.
			 *
			 * @since 1.1.1
			 * @since 1.2.2 Added $module argument.
			 * @hook jb_template_path
			 *
			 * @param {string} $path   JobBoardWP templates' path.
			 * @param {string} $module Module slug. (default: '').
			 *
			 * @return {string} JobBoardWP templates' path.
			 */
			return apply_filters( 'jb_template_path', $path, $module );
		}


		/**
		 * Get the default template path inside wp-content/plugins/
		 *
		 * @since 1.1.0
		 * @since 1.2.2 Added $module argument.
		 * @access public
		 *
		 * @param string $module Module slug. (default: '').
		 *
		 * @return string
		 */
		public function default_templates_path( $module = '' ) {
			$path = untrailingslashit( JB_PATH ) . '/templates/';
			if ( ! empty( $module ) ) {
				$module_data = JB()->modules()->get_data( $module );
				$path        = untrailingslashit( $module_data['path'] ) . '/templates/';
			}

			/**
			 * Filters the default template path inside `wp-content/plugins/`.
			 *
			 * @since 1.1.0
			 * @since 1.2.2 Added $module argument.
			 * @hook jb_default_template_path
			 *
			 * @param {string} $path   JobBoardWP default templates' path.
			 * @param {string} $module Module slug. (default: '').
			 *
			 * @return {string} JobBoardWP default templates' path.
			 */
			return apply_filters( 'jb_default_template_path', $path, $module );
		}


		/**
		 * Get JobBoardWP custom templates (e.g. jobs list) passing attributes and including the file.
		 *
		 * @since 1.1.0
		 * @since 1.2.2 Added $module argument.
		 *
		 * @param string $template_name Template name.
		 * @param array  $args          Arguments. (default: array).
		 * @param string $module        Module slug. (default: '').
		 * @param string $template_path Template path. (default: '').
		 * @param string $default_path  Default path. (default: '').
		 */
		public function get_template_part( $template_name, $args = array(), $module = '', $template_path = '', $default_path = '' ) {
			/**
			 * Fires just before the algorithm for getting JobBoardWP custom templates.
			 *
			 * Note: Allow 3rd party plugins or modules filter template file, arguments, module name from their side.
			 *
			 * @since 1.2.2
			 * @hook jb_change_template_part
			 *
			 * @param {string} $template_name Template name passed by reference.
			 * @param {array}  $args          Arguments passed for the template by reference.
			 * @param {string} $module        Module slug passed by reference. (default: '').
			 * @param {string} $template_path Template path passed by reference. (default: '').
			 * @param {string} $default_path  Default path passed by reference. (default: '').
			 */
			do_action_ref_array( 'jb_change_template_part', array( &amp;$template_name, &amp;$args, &amp;$module, &amp;$template_path, &amp;$default_path ) );

			$template = $this->locate_template( $template_name, $module, $template_path, $default_path );

			/**
			 * Filters the template location.
			 *
			 * Note: Allow 3rd party plugin filter template file from their plugin.
			 *
			 * @since 1.1.1
			 * @since 1.2.2 Added $module argument.
			 * @hook jb_get_template
			 *
			 * @param {string} $template      Predefined template location. That has been found via the `JB()->locate_template()` function.
			 * @param {string} $template_name Template name.
			 * @param {array}  $args          Arguments passed for the template.
			 * @param {string} $module        Module slug. (default: '').
			 * @param {string} $template_path Template path. (default: '').
			 * @param {string} $default_path  Default path. (default: '').
			 *
			 * @return {string} Maybe a custom location for the $template_name.
			 */
			$filter_template = apply_filters( 'jb_get_template', $template, $template_name, $args, $module, $template_path, $default_path );

			if ( $filter_template !== $template ) {
				if ( ! file_exists( $filter_template ) ) {
					/* translators: %s template */
					_doing_it_wrong( __FUNCTION__, wp_kses( sprintf( __( '&lt;code>%s&lt;/code> does not exist.', 'jobboardwp' ), $filter_template ), $this->get_allowed_html( 'templates' ) ), esc_html( JB_VERSION ) );
					return;
				}
				$template = $filter_template;
			}

			$action_args = array(
				'template_name' => $template_name,
				'template_path' => $template_path,
				'located'       => $template,
				'args'          => $args,
				'module'        => $module,
			);

			$query_title                  = str_replace( '-', '_', sanitize_title( $template_name ) );
			$args[ 'jb_' . $query_title ] = $action_args['args'];

			if ( ! empty( $args ) &amp;&amp; is_array( $args ) ) {
				if ( isset( $args['action_args'] ) ) {
					_doing_it_wrong( __FUNCTION__, esc_html__( '`action_args` should not be overwritten when calling `jb_get_template()`.', 'jobboardwp' ), esc_html( JB_VERSION ) );
					unset( $args['action_args'] );
				}

				extract( $args ); // @codingStandardsIgnoreLine
			}

			/**
			 * Fires before the content of the template is displayed.
			 *
			 * @since 1.1.0
			 * @since 1.2.2 Added $module argument.
			 *
			 * @hook jb_before_template_part
			 *
			 * @param {string} $template_name Template name. E.g. 'job/info' or 'job-categories', etc. See templates folder and see more keys
			 * @param {string} $located       The path to the template from which it will be displayed. Can be default or placed in theme.
			 * @param {string} $module        Module slug. (default: '').
			 * @param {array}  $args          Arguments passed into template.
			 * @param {string} $template_path The path to template. Can be custom for 3rd-party integrations. (default: '').
			 */
			do_action( 'jb_before_template_part', $action_args['template_name'], $action_args['located'], $action_args['module'], $action_args['args'], $action_args['template_path'] );

			include $action_args['located'];

			/**
			 * Fires after the content of the template is displayed.
			 *
			 * @since 1.1.0
			 * @since 1.2.2 Added $module argument.
			 *
			 * @hook jb_after_template_part
			 *
			 * @param {string} $template_name Template name. E.g. 'job/info' or 'job-categories', etc. See templates folder and see more keys
			 * @param {string} $located       The path to the template from which it will be displayed. Can be default or placed in theme.
			 * @param {string} $module        Module slug. (default: '').
			 * @param {array}  $args          Arguments passed into template.
			 * @param {string} $template_path The path to template. Can be custom for 3rd-party integrations. (default: '').
			 */
			do_action( 'jb_after_template_part', $action_args['template_name'], $action_args['located'], $action_args['module'], $action_args['args'], $action_args['template_path'] );
		}


		/**
		 * Like get_template, but returns the HTML instead of outputting.
		 *
		 * @see get_template
		 *
		 * @since 1.1.1
		 * @since 1.2.2 Added $module argument.
		 *
		 * @param string $template_name Template name.
		 * @param array  $args          Arguments. (default: array).
		 * @param string $module        Module slug. (default: '').
		 * @param string $template_path Template path. (default: '').
		 * @param string $default_path  Default path. (default: '').
		 *
		 * @return string
		 */
		public function get_template_html( $template_name, $args = array(), $module = '', $template_path = '', $default_path = '' ) {
			ob_start();
			$this->get_template_part( $template_name, $args, $module, $template_path, $default_path );
			return ob_get_clean();
		}


		/**
		 * Locate a template and return the path for inclusion.
		 *
		 * This is the load order:
		 *
		 * yourtheme/$blog_id/$locale/$template_path/$template_name
		 * yourtheme/$blog_id/$template_path/$template_name
		 * yourtheme/$locale/$template_path/$template_name
		 * yourtheme/$template_path/$template_name
		 * $default_path/$template_name
		 *
		 * where $locale is site_locale for regular templates, but $user_locale for email templates
		 *
		 * @since 1.1.1
		 * @since 1.2.2 Added $module argument.
		 *
		 * @param string $template_name Template name.
		 * @param string $module        Module slug. (default: '').
		 * @param string $template_path Template path. (default: '').
		 * @param string $default_path  Default path. (default: '').
		 * @return string
		 */
		public function locate_template( $template_name, $module = '', $template_path = '', $default_path = '' ) {
			$template_name .= '.php';

			// path in theme
			if ( ! $template_path ) {
				$template_path = $this->template_path( $module );
			}

			$template_locations = array(
				trailingslashit( $template_path ) . $template_name,
			);

			/**
			 * Filters the template locations array for WP native `locate_template()` function.
			 *
			 * Note: Handle locations array before multisite's blog ID path will be added. JobBoardWP uses this hook for integration with multilingual plugins.
			 *
			 * @since 1.1.1
			 * @since 1.2.2 Added $module argument.
			 * @hook jb_pre_template_locations
			 *
			 * @param {array}  $template_locations Template locations array for WP native `locate_template()` function.
			 * @param {string} $template_name      Template name.
			 * @param {string} $module             Module slug. (default: '').
			 * @param {string} $template_path      Template path. (default: '').
			 *
			 * @return {array} An array for WP native `locate_template()` function with paths where we need to search for the $template_name.
			 */
			$template_locations = apply_filters( 'jb_pre_template_locations', $template_locations, $template_name, $module, $template_path );

			// build multisite blog_ids priority paths
			if ( is_multisite() ) {
				$blog_id = get_current_blog_id();

				$ms_template_locations = array_map(
					function( $item ) use ( $template_path, $blog_id ) {
						return str_replace( trailingslashit( $template_path ), trailingslashit( $template_path ) . $blog_id . '/', $item );
					},
					$template_locations
				);

				$template_locations = array_merge( $ms_template_locations, $template_locations );
			}

			/**
			 * Filters the template locations array for WP native `locate_template()` function.
			 *
			 * Note: Final chance for getting customized the templates locations array.
			 *
			 * @since 1.1.1
			 * @since 1.2.2 Added $module argument.
			 * @hook jb_template_locations
			 *
			 * @param {array}  $template_locations Template locations array for WP native `locate_template()` function.
			 * @param {string} $template_name      Template name.
			 * @param {string} $module             Module slug. (default: '').
			 * @param {string} $template_path      Template path. (default: '').
			 *
			 * @return {array} An array for WP native `locate_template()` function with paths where we need to search for the $template_name.
			 */
			$template_locations = apply_filters( 'jb_template_locations', $template_locations, $template_name, $module, $template_path );

			$template_locations = array_map( 'wp_normalize_path', $template_locations );

			/**
			 * Filters the custom path variable. There is possible to set your custom templates path.
			 *
			 * Note: You could use this hook for getting JobBoardWP templates stored in your own custom path (e.g. uploads/ folder).
			 * This can be used to avoid the possibility of dumping templates if you are using a theme that is constantly updated and it is not possible to create a child-theme.
			 *
			 * @since 1.1.1
			 * @since 1.2.2 Added $module argument.
			 * @hook jb_template_structure_custom_path
			 *
			 * @param {bool}   $custom_path   Custom path to JobBoardWP templates. It's `false` by default.
			 * @param {string} $template_name Template name.
			 * @param {string} $module        Module slug. (default: '').
			 *
			 * @return {bool|string} Maybe custom path to JobBoardWP templates. Otherwise false.
			 */
			$custom_path = apply_filters( 'jb_template_structure_custom_path', false, $template_name, $module );
			if ( false === $custom_path || ! is_dir( $custom_path ) ) {
				$template = locate_template( $template_locations );
			} else {
				$template = $this->locate_template_custom_path( $template_locations, $custom_path );
			}

			// Get default template in cases:
			// 1. Conflict test constant is defined and TRUE
			// 2. There aren't any proper template in custom or theme directories
			if ( ! $template || JB_TEMPLATE_CONFLICT_TEST ) {
				// default path in plugin
				if ( ! $default_path ) {
					$default_path = $this->default_templates_path( $module );
				}

				$template = wp_normalize_path( trailingslashit( $default_path ) . $template_name );
			}

			// Return what we found.
			/**
			 * Filters the founded template location.
			 *
			 * Note: Ignore all locate rules for the selected $template_name.
			 *
			 * @since 1.1.1
			 * @since 1.2.2 Added $module argument.
			 * @hook jb_locate_template
			 *
			 * @param {string} $template      Template full path.
			 * @param {string} $template_name Template name.
			 * @param {string} $module        Module slug. (default: '').
			 * @param {string} $template_path Template path. (default: '').
			 *
			 * @return {string} Template full path.
			 */
			return apply_filters( 'jb_locate_template', $template, $template_name, $module, $template_path );
		}


		/**
		 * Retrieve the name of the highest priority template file that exists in custom path.
		 *
		 * @since 1.1.1
		 *
		 * @param string|array $template_locations Template file(s) to search for, in order.
		 * @param string       $custom_path        Custom path to the JB templates.
		 *
		 * @return string The template filename if one is located.
		 */
		public function locate_template_custom_path( $template_locations, $custom_path ) {
			$located = '';

			foreach ( (array) $template_locations as $template_location ) {
				if ( ! $template_location ) {
					continue;
				}

				$path = wp_normalize_path( trailingslashit( $custom_path ) . $template_location );
				if ( file_exists( $path ) ) {
					$located = $path;
					break;
				}
			}

			return $located;
		}

		/**
		 * @param string $email_key
		 * @param bool $with_ext
		 *
		 * @return string
		 */
		public function get_email_template( $email_key, $with_ext = true ) {
			$template_path = $with_ext ? "emails/{$email_key}.php" : "emails/{$email_key}";
			/**
			 * Filters an email template path inside `jobboardwp/` folder.
			 *
			 * @since 1.1.1
			 * @hook jb_email_template_path
			 *
			 * @param {string} $template  Email template path.
			 * @param {string} $email_key Email notification key.
			 *
			 * @return {string} Email template path. 'emails/{$email_key}.php' by default.
			 */
			return apply_filters( 'jb_email_template_path', $template_path, $email_key );
		}

		/**
		 * Getting module slug for email notification.
		 *
		 * @since 1.2.2
		 *
		 * @param string $email_key Email Notification key.
		 *
		 * @return bool|string false                               If email key doesn't exist in the email notifications list
		 *                     '{empty_string}' or '{module_slug}' For core email notification or email notification inside the module.
		 */
		public function get_email_template_module( $email_key ) {
			$email_notifications = JB()->config()->get( 'email_notifications' );
			if ( ! array_key_exists( $email_key, $email_notifications ) ) {
				return false;
			}

			if ( ! array_key_exists( 'module', $email_notifications[ $email_key ] ) ) {
				return '';
			}

			return $email_notifications[ $email_key ]['module'];
		}

		/**
		 * Undash string. Easy operate
		 *
		 * @since 1.2.2
		 * @param string $slug
		 *
		 * @return string
		 */
		public function undash( $slug ) {
			$slug = str_replace( '-', '_', $slug );
			return $slug;
		}
	}
}
</code></pre>
        </article>
    </section>





    <footer>
		<a href="https://wordpress.org/plugins/jobboardwp/">JobBoardWP Plugin</a> &bull;
		<a href="https://docs.jobboardwp.com/">Official Docs</a>
	</footer>


</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Actions</h3><ul><li><a href="jb-after-job-delete.html">jb-after-job-delete</a></li><li><a href="jb-job-submission-validation.html">jb-job-submission-validation</a></li><li><a href="jb_admin_after_main_notices.html">jb_admin_after_main_notices</a></li><li><a href="jb_admin_create_notices.html">jb_admin_create_notices</a></li><li><a href="jb_admin_init_locale.html">jb_admin_init_locale</a></li><li><a href="jb_after_email_notification_sending.html">jb_after_email_notification_sending</a></li><li><a href="jb_after_form_fields.html">jb_after_form_fields</a></li><li><a href="jb_after_get_jobs_query.html">jb_after_get_jobs_query</a></li><li><a href="jb_after_job_apply_block.html">jb_after_job_apply_block</a></li><li><a href="jb_after_job_content.html">jb_after_job_content</a></li><li><a href="jb_after_job_submitted_successfully.html">jb_after_job_submitted_successfully</a></li><li><a href="jb_after_template_part.html">jb_after_template_part</a></li><li><a href="jb_before_email_notification_sending.html">jb_before_email_notification_sending</a></li><li><a href="jb_before_job_content.html">jb_before_job_content</a></li><li><a href="jb_before_login_form.html">jb_before_login_form</a></li><li><a href="jb_before_settings_%257B$current_tab%257D_%257B$current_subtab%257D_content.html">jb_before_settings_{$current_tab}_{$current_subtab}_content</a></li><li><a href="jb_before_template_part.html">jb_before_template_part</a></li><li><a href="jb_change_template_part.html">jb_change_template_part</a></li><li><a href="jb_core_loaded.html">jb_core_loaded</a></li><li><a href="jb_fill_job.html">jb_fill_job</a></li><li><a href="jb_job_after_save_metabox.html">jb_job_after_save_metabox</a></li><li><a href="jb_job_categories_footer.html">jb_job_categories_footer</a></li><li><a href="jb_job_create_user_validation.html">jb_job_create_user_validation</a></li><li><a href="jb_job_edited.html">jb_job_edited</a></li><li><a href="jb_job_is_approved.html">jb_job_is_approved</a></li><li><a href="jb_job_is_expired.html">jb_job_is_expired</a></li><li><a href="jb_job_published.html">jb_job_published</a></li><li><a href="jb_job_submission_after_create_account.html">jb_job_submission_after_create_account</a></li><li><a href="jb_jobs_filter_type_%257B$type%257D.html">jb_jobs_filter_type_{$type}</a></li><li><a href="jb_jobs_head_after.html">jb_jobs_head_after</a></li><li><a href="jb_jobs_head_before.html">jb_jobs_head_before</a></li><li><a href="jb_settings_before_save.html">jb_settings_before_save</a></li><li><a href="jb_settings_save.html">jb_settings_save</a></li><li><a href="jb_settings_section_modules__content.html">jb_settings_section_modules__content</a></li><li><a href="jb_unfill_job.html">jb_unfill_job</a></li></ul><h3>Filters</h3><ul><li><a href="jb-job-company-data.html">jb-job-company-data</a></li><li><a href="jb-job-location-structured-data.html">jb-job-location-structured-data</a></li><li><a href="jb-job-raw-data.html">jb-job-raw-data</a></li><li><a href="jb-job-structured-data.html">jb-job-structured-data</a></li><li><a href="jb-save-job-user-company-data.html">jb-save-job-user-company-data</a></li><li><a href="jb-user-company-data.html">jb-user-company-data</a></li><li><a href="jb_admin_enqueue_localize.html">jb_admin_enqueue_localize</a></li><li><a href="jb_admin_jobs_listtable_columns.html">jb_admin_jobs_listtable_columns</a></li><li><a href="jb_admin_settings_get_pages_list.html">jb_admin_settings_get_pages_list</a></li><li><a href="jb_admin_settings_pages_list_value.html">jb_admin_settings_pages_list_value</a></li><li><a href="jb_ajax_job_validation_errors.html">jb_ajax_job_validation_errors</a></li><li><a href="jb_can_applied_job.html">jb_can_applied_job</a></li><li><a href="jb_change_settings_before_save.html">jb_change_settings_before_save</a></li><li><a href="jb_check_for_reminder_expired_jobs_job_ids.html">jb_check_for_reminder_expired_jobs_job_ids</a></li><li><a href="jb_common_js_variables.html">jb_common_js_variables</a></li><li><a href="jb_config_get.html">jb_config_get</a></li><li><a href="jb_content_editor_options.html">jb_content_editor_options</a></li><li><a href="jb_cpt_list.html">jb_cpt_list</a></li><li><a href="jb_cron_delete_expired_jobs.html">jb_cron_delete_expired_jobs</a></li><li><a href="jb_cron_delete_expired_jobs_days.html">jb_cron_delete_expired_jobs_days</a></li><li><a href="jb_debug_information_pages.html">jb_debug_information_pages</a></li><li><a href="jb_default_individual_expiry.html">jb_default_individual_expiry</a></li><li><a href="jb_default_template_path.html">jb_default_template_path</a></li><li><a href="jb_email_send_subject.html">jb_email_send_subject</a></li><li><a href="jb_email_template_content.html">jb_email_template_content</a></li><li><a href="jb_email_template_content_type.html">jb_email_template_content_type</a></li><li><a href="jb_email_template_path.html">jb_email_template_path</a></li><li><a href="jb_email_templates_columns.html">jb_email_templates_columns</a></li><li><a href="jb_emails_list_table_custom_column_content.html">jb_emails_list_table_custom_column_content</a></li><li><a href="jb_enqueue_localize.html">jb_enqueue_localize</a></li><li><a href="jb_filesystem_max_file_age.html">jb_filesystem_max_file_age</a></li><li><a href="jb_form_error.html">jb_form_error</a></li><li><a href="jb_form_global_error.html">jb_form_global_error</a></li><li><a href="jb_form_notice.html">jb_form_notice</a></li><li><a href="jb_formatting_modules_list.html">jb_formatting_modules_list</a></li><li><a href="jb_forms_before_render_section.html">jb_forms_before_render_section</a></li><li><a href="jb_forms_move_form_tag.html">jb_forms_move_form_tag</a></li><li><a href="jb_frontend_common_styles_deps.html">jb_frontend_common_styles_deps</a></li><li><a href="jb_frontend_forms_required_star_disabled.html">jb_frontend_forms_required_star_disabled</a></li><li><a href="jb_get_employer_jobs_args.html">jb_get_employer_jobs_args</a></li><li><a href="jb_get_job_categories_args.html">jb_get_job_categories_args</a></li><li><a href="jb_get_job_categories_response.html">jb_get_job_categories_response</a></li><li><a href="jb_get_jobs_query_args.html">jb_get_jobs_query_args</a></li><li><a href="jb_get_mail_job_details.html">jb_get_mail_job_details</a></li><li><a href="jb_get_predefined_page_id.html">jb_get_predefined_page_id</a></li><li><a href="jb_get_template.html">jb_get_template</a></li><li><a href="jb_is_predefined_page.html">jb_is_predefined_page</a></li><li><a href="jb_job_application_label.html">jb_job_application_label</a></li><li><a href="jb_job_dashboard_job_data_response.html">jb_job_dashboard_job_data_response</a></li><li><a href="jb_job_dashboard_response.html">jb_job_dashboard_response</a></li><li><a href="jb_job_details_metabox_fields.html">jb_job_details_metabox_fields</a></li><li><a href="jb_job_logo.html">jb_job_logo</a></li><li><a href="jb_job_submission_create_account_data.html">jb_job_submission_create_account_data</a></li><li><a href="jb_job_submission_form_args.html">jb_job_submission_form_args</a></li><li><a href="jb_job_submission_strict_wrap_attrs.html">jb_job_submission_strict_wrap_attrs</a></li><li><a href="jb_job_submission_update_account_data.html">jb_job_submission_update_account_data</a></li><li><a href="jb_job_submitted_data.html">jb_job_submitted_data</a></li><li><a href="jb_job_type_styling.html">jb_job_type_styling</a></li><li><a href="jb_job_visible_login.html">jb_job_visible_login</a></li><li><a href="jb_jobs_directory_filter_types.html">jb_jobs_directory_filter_types</a></li><li><a href="jb_jobs_directory_filters.html">jb_jobs_directory_filters</a></li><li><a href="jb_jobs_job_data_response.html">jb_jobs_job_data_response</a></li><li><a href="jb_jobs_list_calculate_pagination_result.html">jb_jobs_list_calculate_pagination_result</a></li><li><a href="jb_jobs_list_category_filter_args.html">jb_jobs_list_category_filter_args</a></li><li><a href="jb_jobs_list_response.html">jb_jobs_list_response</a></li><li><a href="jb_jobs_list_type_filter_args.html">jb_jobs_list_type_filter_args</a></li><li><a href="jb_jobs_scripts_enqueue.html">jb_jobs_scripts_enqueue</a></li><li><a href="jb_jobs_search_line_placeholder.html">jb_jobs_search_line_placeholder</a></li><li><a href="jb_language_file.html">jb_language_file</a></li><li><a href="jb_language_locale.html">jb_language_locale</a></li><li><a href="jb_language_textdomain.html">jb_language_textdomain</a></li><li><a href="jb_late_escaping_allowed_tags.html">jb_late_escaping_allowed_tags</a></li><li><a href="jb_locate_template.html">jb_locate_template</a></li><li><a href="jb_location_type_disable.html">jb_location_type_disable</a></li><li><a href="jb_mail_placeholders.html">jb_mail_placeholders</a></li><li><a href="jb_mail_replace_placeholders.html">jb_mail_replace_placeholders</a></li><li><a href="jb_module_can_activate.html">jb_module_can_activate</a></li><li><a href="jb_module_list_table_actions.html">jb_module_list_table_actions</a></li><li><a href="jb_modules_page_same_page_license.html">jb_modules_page_same_page_license</a></li><li><a href="jb_options_get_%257B$option_id%257D.html">jb_options_get_{$option_id}</a></li><li><a href="jb_options_key.html">jb_options_key</a></li><li><a href="jb_post_statuses.html">jb_post_statuses</a></li><li><a href="jb_pre_template_locations.html">jb_pre_template_locations</a></li><li><a href="jb_pre_template_locations_common_locale_integration.html">jb_pre_template_locations_common_locale_integration</a></li><li><a href="jb_predefined_modules.html">jb_predefined_modules</a></li><li><a href="jb_predefined_page_option_key.html">jb_predefined_page_option_key</a></li><li><a href="jb_predefined_validated_modules.html">jb_predefined_validated_modules</a></li><li><a href="jb_render_field_type_%257B$field_type%257D.html">jb_render_field_type_{$field_type}</a></li><li><a href="jb_rich_text_editor_buttons.html">jb_rich_text_editor_buttons</a></li><li><a href="jb_save_email_templates_locations.html">jb_save_email_templates_locations</a></li><li><a href="jb_section_fields.html">jb_section_fields</a></li><li><a href="jb_settings.html">jb_settings</a></li><li><a href="jb_settings_custom_subtabs.html">jb_settings_custom_subtabs</a></li><li><a href="jb_settings_custom_tabs.html">jb_settings_custom_tabs</a></li><li><a href="jb_settings_email_section_fields.html">jb_settings_email_section_fields</a></li><li><a href="jb_settings_sanitize_%257B$key%257D.html">jb_settings_sanitize_{$key}</a></li><li><a href="jb_settings_sanitizing_map.html">jb_settings_sanitizing_map</a></li><li><a href="jb_settings_section_%257B$current_tab%257D_%257B$current_subtab%257D_content.html">jb_settings_section_{$current_tab}_{$current_subtab}_content</a></li><li><a href="jb_taxonomies_list.html">jb_taxonomies_list</a></li><li><a href="jb_template_include.html">jb_template_include</a></li><li><a href="jb_template_locations.html">jb_template_locations</a></li><li><a href="jb_template_locations_base_user_id_for_locale.html">jb_template_locations_base_user_id_for_locale</a></li><li><a href="jb_template_path.html">jb_template_path</a></li><li><a href="jb_template_structure_custom_path.html">jb_template_structure_custom_path</a></li><li><a href="jb_upload_wrapper_styles.html">jb_upload_wrapper_styles</a></li><li><a href="jb_uploading_logo_mime_types.html">jb_uploading_logo_mime_types</a></li></ul>
</nav>

<br class="clear">

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
